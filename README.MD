# Задание
Спроектировать витрину DWH
# СУБД 
В качестве хранилища данных в работе используется аналитическая, колоночно-ориентированная Vertica
# Dataset 
В качестве исходных данных используется датасет https://www.kaggle.com/AnalyzeBoston/crimes-in-boston
# Витрина
Агрегат по районам со следующими свойствами:
* district - район
* crimes_total - общее количество преступлений в этом районе
* crimes_monthly - медиана числа преступлений в месяц в этом районе
* frequent_crime_types - три самых частых crime_type за всю историю наблюдений в этом районе, объединенных через запятую с одним пробелом “, ” , расположенных в порядке убывания частоты
* crime_type - первая часть NAME из таблицы offense_codes, разбитого по разделителю “-” (например, если NAME “BURGLARY - COMMERICAL - ATTEMPT”, то crime_type “BURGLARY”)
* lat - широта координаты района, расчитанная как среднее по всем широтам инцидентов
* lng - долгота координаты района, расчитанная как среднее по всем долготам инцидентов


# Загрузка витрины
1. Поднимем Vertica с помощью докера, нужна версия не менее, чем 9.1.1, т.к при формировании витрины исипользуется служебная функция LISTAGG. В работе используется версия 9.2.*
```
docker run -p 5433:5433 -d \
           -v ~/work/otus-vertica/data:/home/dbadmin/docker \
           jbfavre/vertica:9.2.0-7_debian-8
```
2. Создаём таблицы и сразу прогружаем данные в них. Выполним скрипты из папки ddl в следующем порядке:
   - schema.sql
   - crime.sql
   - offense_code.sql
3. Формируем витрину с помощью скрипта из папки mart:
   - boston_crime_mart
